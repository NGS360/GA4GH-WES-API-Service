{% extends "base.html" %}

{% block content %}
<h2>New Workflow Run</h2>
<form method="POST" action="{{ url_for('web.new_run') }}" class="needs-validation" novalidate>
    <div class="mb-3">
        <label for="workflow_url" class="form-label">Workflow URL</label>
        <input type="text" class="form-control" id="workflow_url" name="workflow_url" required>
    </div>
    
    <div class="mb-3">
        <label for="workflow_type" class="form-label">Workflow Type</label>
        <select class="form-select" id="workflow_type" name="workflow_type" required>
            <option value="CWL">CWL</option>
            <option value="WDL">WDL</option>
        </select>
    </div>
    
    <div class="mb-3">
        <label for="workflow_type_version" class="form-label">Workflow Type Version</label>
        <input type="text" class="form-control" id="workflow_type_version" name="workflow_type_version" value="1.0" required>
    </div>
    
    <div class="mb-3">
        <label for="service_provider" class="form-label">Service Provider</label>
        <select class="form-select" id="service_provider" name="service_provider" required>
            <option value="aws_omics">AWS HealthOmics</option>
            <option value="arvados">Arvados</option>
            <option value="sevenbridges">SevenBridges/Velsera</option>
        </select>
    </div>
    
    <div class="mb-3">
        <label for="workflow_params" class="form-label">Workflow Parameters (JSON)</label>
        <textarea class="form-control" id="workflow_params" name="workflow_params" rows="5">{}</textarea>
        <small class="form-text text-muted">
            Include provider-specific parameters in a "provider_params" object within your JSON.
        </small>
    </div>
    
    <button type="submit" class="btn btn-primary">Submit Workflow</button>
</form>
{% endblock %}